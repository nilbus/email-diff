{"resource":"/email-diff/{id}","path":"/email-diff/ward-email","httpMethod":"POST","headers":{"Accept":"*/*","Accept-Encoding":"gzip","CloudFront-Forwarded-Proto":"https","CloudFront-Is-Desktop-Viewer":"true","CloudFront-Is-Mobile-Viewer":"false","CloudFront-Is-SmartTV-Viewer":"false","CloudFront-Is-Tablet-Viewer":"false","CloudFront-Viewer-Country":"US","Content-Type":"application/x-www-form-urlencoded","Host":"vvb43nv48h.execute-api.us-east-2.amazonaws.com","User-Agent":"mailgun/treq-16.12.0","Via":"1.1 ef6762d67d012a06d2761f42352c9e53.cloudfront.net (CloudFront)","X-Amz-Cf-Id":"TePy-_zLYsuOCupyq-nhC96xLHOZJxDEP41fPrw1HoFEmOrXk-qZ4w==","X-Amzn-Trace-Id":"Root=1-5de29b50-567b5bbaff48c19c6f43be78","X-Forwarded-For":"54.86.65.220, 70.132.33.132","X-Forwarded-Port":"443","X-Forwarded-Proto":"https"},"multiValueHeaders":{"Accept":["*/*"],"Accept-Encoding":["gzip"],"CloudFront-Forwarded-Proto":["https"],"CloudFront-Is-Desktop-Viewer":["true"],"CloudFront-Is-Mobile-Viewer":["false"],"CloudFront-Is-SmartTV-Viewer":["false"],"CloudFront-Is-Tablet-Viewer":["false"],"CloudFront-Viewer-Country":["US"],"Content-Type":["application/x-www-form-urlencoded"],"Host":["vvb43nv48h.execute-api.us-east-2.amazonaws.com"],"User-Agent":["mailgun/treq-16.12.0"],"Via":["1.1 ef6762d67d012a06d2761f42352c9e53.cloudfront.net (CloudFront)"],"X-Amz-Cf-Id":["TePy-_zLYsuOCupyq-nhC96xLHOZJxDEP41fPrw1HoFEmOrXk-qZ4w=="],"X-Amzn-Trace-Id":["Root=1-5de29b50-567b5bbaff48c19c6f43be78"],"X-Forwarded-For":["54.86.65.220, 70.132.33.132"],"X-Forwarded-Port":["443"],"X-Forwarded-Proto":["https"]},"queryStringParameters":null,"multiValueQueryStringParameters":null,"pathParameters":{"id":"ward-email"},"stageVariables":null,"requestContext":{"resourceId":"6ded37","resourcePath":"/email-diff/{id}","httpMethod":"POST","extendedRequestId":"D-00qHQRiYcF3GQ=","requestTime":"30/Nov/2019:16:39:44 +0000","path":"/default/email-diff/ward-email","accountId":"449242188277","protocol":"HTTP/1.1","stage":"default","domainPrefix":"vvb43nv48h","requestTimeEpoch":1575131984918,"requestId":"cc43510f-2524-4f89-bf31-69c461e5d63d","identity":{"cognitoIdentityPoolId":null,"accountId":null,"cognitoIdentityId":null,"caller":null,"sourceIp":"54.86.65.220","principalOrgId":null,"accessKey":null,"cognitoAuthenticationType":null,"cognitoAuthenticationProvider":null,"userArn":null,"userAgent":"mailgun/treq-16.12.0","user":null},"domainName":"vvb43nv48h.execute-api.us-east-2.amazonaws.com","apiId":"vvb43nv48h"},"body":"recipient=redacted%40example.com&sender=redacted%40example.com&subject=Fwd%3A+Why+Event+Sourcing+basically+requires+CQRS+and+Read+Models&from=First+Last+%redacted%40example.com%3E&X-Mailgun-Incoming=Yes&X-Envelope-From=%redacted%40example.com%3E&Received=from+mail-lf1-f45.google.com+%28mail-lf1-f45.google.com+%5B209.85.167.45%5D%29+by+mxa.mailgun.org+with+ESMTP+id+5de29b50.7fc322ec7fb0-smtp-in-n01%3B+Sat%2C+30+Nov+2019+16%3A39%3A44+-0000+%28UTC%29&Received=by+mail-lf1-f45.google.com+with+SMTP+id+l18so6749589lfc.1++++++++for+%redacted%40example.com%3E%3B+Sat%2C+30+Nov+2019+08%3A39%3A43+-0800+%28PST%29&Dkim-Signature=v%3D1%3B+a%3Drsa-sha256%3B+c%3Drelaxed%2Frelaxed%3B++++++++d%3Dexample-com.20150623.gappssmtp.com%3B+s%3D20150623%3B++++++++h%3Dmime-version%3Areferences%3Ain-reply-to%3Afrom%3Adate%3Amessage-id%3Asubject%3Ato%3B++++++++bh%3DwfAal1Q0ZesjknAKkkmvqr97wJO5wdcagITp71drnR4%3D%3B++++++++b%3DhCa1L3zUKTFvINP5m334lIqmJhW7SUy6br6l4qGE09WBt1BbBQu0QiumKmeuF0dvJQ+++++++++iU9qpXV5bL6TPfes62NN7utVAF0PA1O5Scc0FvGX1MeQcbpmeYoHVsNWHRBG3hc4LGGl+++++++++xfFesaH6f%2FyinCGehKZKM3ol3VHGTuaxcowIOQi8qt83nqUfFKWCV%2Bw3jwYZQi7ve0xM+++++++++j9uYa7ppGYdQFsjIiC7U9H3OqufhVKWUAhGABpvAPF7narmRU8Yk2HZ4xiPh8zgnFLGz+++++++++zOrJ6u3F6OesY%2BPacs0F%2FYKRLdxt5F8XvrqeQaJ3Y1JNJ3k6Tj%2FbaL7q39YMFg8B59H2+++++++++P1Mg%3D%3D&X-Google-Dkim-Signature=v%3D1%3B+a%3Drsa-sha256%3B+c%3Drelaxed%2Frelaxed%3B++++++++d%3D1e100.net%3B+s%3D20161025%3B++++++++h%3Dx-gm-message-state%3Amime-version%3Areferences%3Ain-reply-to%3Afrom%3Adate+++++++++%3Amessage-id%3Asubject%3Ato%3B++++++++bh%3DwfAal1Q0ZesjknAKkkmvqr97wJO5wdcagITp71drnR4%3D%3B++++++++b%3DpgAwXaU%2FvApi%2FzXDlj%2B%2BJcdw17qExMofRMolSQCEHbiKq5x7nUCKjc8%2FZaZxDlugjV+++++++++1nK%2Fl08wFcTlhEyBy6t%2BslIHC8jc%2F%2FbhuILILKWj5vuznvdtsPK9GALLMSN8G8GxqHNA+++++++++YvQnjIv55Zm%2BnSmh%2FxZjNPJ7XZAhWgfBGFAyFrJS9SV74Q%2BnUvWBV8zLn4MnAiJcb%2FCy+++++++++Xxym2gnrvjCidqgqubo5D6Oo7HYEDLrjuFNWGbeGCmfoVNDu%2BJ0nSyfQTC2SuwfMw3oV+++++++++YroJC%2FDL3JwZccmrnP7nhVjbhnKQQLwU6e9JVdl%2BLhCn370EoXcDCnS9tojMjsa4UiSq+++++++++mGFA%3D%3D&X-Gm-Message-State=APjAAAWww2ci%2B7BrzuiLd8WjGGVXdTBeif8FEPCeYB1HvFnQhxhUZU9I%09uXm%2BA2MOQONSBoA8pRgglbpABM6VwtdvkEn8kylNS9Tq&X-Google-Smtp-Source=APXvYqwEigCC56dsHVgkVXrsXaWrS%2FRHvaxv5tfvkbjEfTkIDmR61Fu%2Fw%2FVsE2aIfjMqwqnz5bC%2FgFShyILdAkb4T%2FU%3D&X-Received=by+2002%3Aa19%3A5057%3A%3A+with+SMTP+id+z23mr3872021lfj.132.1575131982061%3B+Sat%2C+30+Nov+2019+08%3A39%3A42+-0800+%28PST%29&Mime-Version=1.0&References=%3C1bb42b52984bfa86e2ce35215.495d83f894.20171004170224.c749674707.redacted%40example.com%3E&In-Reply-To=%3C1bb42b52984bfa86e2ce35215.495d83f894.20171004170224.c749674707.redacted%40example.com%3E&From=First+Last+%redacted%40example.com%3E&Date=Sat%2C+30+Nov+2019+11%3A39%3A30+-0500&Message-Id=%3CCAOMsSXSs7zn0YgVaF%3DguLzfu%3Dp3hOuQ%redacted%40example.com%3E&Subject=Fwd%3A+Why+Event+Sourcing+basically+requires+CQRS+and+Read+Models&To=redacted%40example.com&Content-Type=multipart%2Falternative%3B+boundary%3D%2200000000000043e563059892fed8%22&message-headers=%5B%5B%22X-Mailgun-Incoming%22%2C+%22Yes%22%5D%2C+%5B%22X-Envelope-From%22%2C+%22%redacted%40example.com%3E%22%5D%2C+%5B%22Received%22%2C+%22from+mail-lf1-f45.google.com+%28mail-lf1-f45.google.com+%5B209.85.167.45%5D%29+by+mxa.mailgun.org+with+ESMTP+id+5de29b50.7fc322ec7fb0-smtp-in-n01%3B+Sat%2C+30+Nov+2019+16%3A39%3A44+-0000+%28UTC%29%22%5D%2C+%5B%22Received%22%2C+%22by+mail-lf1-f45.google.com+with+SMTP+id+l18so6749589lfc.1++++++++for+%redacted%40example.com%3E%3B+Sat%2C+30+Nov+2019+08%3A39%3A43+-0800+%28PST%29%22%5D%2C+%5B%22Dkim-Signature%22%2C+%22v%3D1%3B+a%3Drsa-sha256%3B+c%3Drelaxed%2Frelaxed%3B++++++++d%3Dexample-com.20150623.gappssmtp.com%3B+s%3D20150623%3B++++++++h%3Dmime-version%3Areferences%3Ain-reply-to%3Afrom%3Adate%3Amessage-id%3Asubject%3Ato%3B++++++++bh%3DwfAal1Q0ZesjknAKkkmvqr97wJO5wdcagITp71drnR4%3D%3B++++++++b%3DhCa1L3zUKTFvINP5m334lIqmJhW7SUy6br6l4qGE09WBt1BbBQu0QiumKmeuF0dvJQ+++++++++iU9qpXV5bL6TPfes62NN7utVAF0PA1O5Scc0FvGX1MeQcbpmeYoHVsNWHRBG3hc4LGGl+++++++++xfFesaH6f%2FyinCGehKZKM3ol3VHGTuaxcowIOQi8qt83nqUfFKWCV%2Bw3jwYZQi7ve0xM+++++++++j9uYa7ppGYdQFsjIiC7U9H3OqufhVKWUAhGABpvAPF7narmRU8Yk2HZ4xiPh8zgnFLGz+++++++++zOrJ6u3F6OesY%2BPacs0F%2FYKRLdxt5F8XvrqeQaJ3Y1JNJ3k6Tj%2FbaL7q39YMFg8B59H2+++++++++P1Mg%3D%3D%22%5D%2C+%5B%22X-Google-Dkim-Signature%22%2C+%22v%3D1%3B+a%3Drsa-sha256%3B+c%3Drelaxed%2Frelaxed%3B++++++++d%3D1e100.net%3B+s%3D20161025%3B++++++++h%3Dx-gm-message-state%3Amime-version%3Areferences%3Ain-reply-to%3Afrom%3Adate+++++++++%3Amessage-id%3Asubject%3Ato%3B++++++++bh%3DwfAal1Q0ZesjknAKkkmvqr97wJO5wdcagITp71drnR4%3D%3B++++++++b%3DpgAwXaU%2FvApi%2FzXDlj%2B%2BJcdw17qExMofRMolSQCEHbiKq5x7nUCKjc8%2FZaZxDlugjV+++++++++1nK%2Fl08wFcTlhEyBy6t%2BslIHC8jc%2F%2FbhuILILKWj5vuznvdtsPK9GALLMSN8G8GxqHNA+++++++++YvQnjIv55Zm%2BnSmh%2FxZjNPJ7XZAhWgfBGFAyFrJS9SV74Q%2BnUvWBV8zLn4MnAiJcb%2FCy+++++++++Xxym2gnrvjCidqgqubo5D6Oo7HYEDLrjuFNWGbeGCmfoVNDu%2BJ0nSyfQTC2SuwfMw3oV+++++++++YroJC%2FDL3JwZccmrnP7nhVjbhnKQQLwU6e9JVdl%2BLhCn370EoXcDCnS9tojMjsa4UiSq+++++++++mGFA%3D%3D%22%5D%2C+%5B%22X-Gm-Message-State%22%2C+%22APjAAAWww2ci%2B7BrzuiLd8WjGGVXdTBeif8FEPCeYB1HvFnQhxhUZU9I%5CtuXm%2BA2MOQONSBoA8pRgglbpABM6VwtdvkEn8kylNS9Tq%22%5D%2C+%5B%22X-Google-Smtp-Source%22%2C+%22APXvYqwEigCC56dsHVgkVXrsXaWrS%2FRHvaxv5tfvkbjEfTkIDmR61Fu%2Fw%2FVsE2aIfjMqwqnz5bC%2FgFShyILdAkb4T%2FU%3D%22%5D%2C+%5B%22X-Received%22%2C+%22by+2002%3Aa19%3A5057%3A%3A+with+SMTP+id+z23mr3872021lfj.132.1575131982061%3B+Sat%2C+30+Nov+2019+08%3A39%3A42+-0800+%28PST%29%22%5D%2C+%5B%22Mime-Version%22%2C+%221.0%22%5D%2C+%5B%22References%22%2C+%22%3C1bb42b52984bfa86e2ce35215.495d83f894.20171004170224.c749674707.redacted%40example.com%3E%22%5D%2C+%5B%22In-Reply-To%22%2C+%22%3C1bb42b52984bfa86e2ce35215.495d83f894.20171004170224.c749674707.redacted%40example.com%3E%22%5D%2C+%5B%22From%22%2C+%22First+Last+%redacted%40example.com%3E%22%5D%2C+%5B%22Date%22%2C+%22Sat%2C+30+Nov+2019+11%3A39%3A30+-0500%22%5D%2C+%5B%22Message-Id%22%2C+%22%3CCAOMsSXSs7zn0YgVaF%3DguLzfu%3Dp3hOuQ%redacted%40example.com%3E%22%5D%2C+%5B%22Subject%22%2C+%22Fwd%3A+Why+Event+Sourcing+basically+requires+CQRS+and+Read+Models%22%5D%2C+%5B%22To%22%2C+%redacted%40example.com%22%5D%2C+%5B%22Content-Type%22%2C+%22multipart%2Falternative%3B+boundary%3D%5C%2200000000000043e563059892fed8%5C%22%22%5D%5D&timestamp=1575131984&token=23c8f1f826c2735e15bf5995fe821bc35f7ea9f78ef13c1819&signature=986a0191e0fac47b64843dc72b1fc1ac9d96b221dac47eb19ec7e0cc9ddc1652&body-plain=Why%3F+Why%2C+sir%3F%0D%0AView+this+email+in+your+browser%0D%0A%3Chttp%3A%2F%2Fmailchi.mp%2Farkency%2Fwhy-event-sourcing-basically-requires-cqrs-and-read-models%3Fe%3D495d83f894%3E%0D%0AHey%2C+the+Event+Sourcing+chapter+in+Domain-Driven+Rails%0D%0A%3Chttp%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26id%3D66f8c740b4%26e%3D495d83f894%3E%0D%0Ais%0D%0Ahere+since+Monday%21+If+you+already+purchased+the+book%2C+you+should+have%0D%0Areceived+a+separate+email+with+updated+version.+Check+your+inbox.+50+new%0D%0Apages+are+waiting+for+you.+Food+for+though.%0D%0A%0D%0AIf+you+still+don%27t+have+Domain-Driven+Rails%0D%0A%3Chttp%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26id%3Dfd54208daf%26e%3D495d83f894%3E%0D%0Ause+%2AEVENTSOURCING%2A+code+to+get+the+book+with+%2A35%25+discount+today+%2Aand%0D%0Aenjoy+200+pages+describing+11+techniques+that+we+use+to+simplify+our%0D%0Acomplex+apps.%0D%0A%0D%0AEvent+sourcing+is+a+nice+technique+with+certain+benefits.+But+it+has+a+big%0D%0Alimitation.+As+there+is+no+concept+of+easily+available+%2Acurrent+state%2A%2C+you%0D%0Acan%E2%80%99t+easily+get+an+answer+to+a+query+such+as+%2Agive+me+all+products+with%0D%0Aavailable+quantity+lower+than+10%2A.%0D%0A%0D%0A%0D%0AYou+could+read+Product-1+stream+of+events+for+Product+with+ID%3D1%2C+use+them%0D%0Ato+rebuild+the+current+state+of+this+one+product+and+get+an+answer+to%0D%0Awhether+it+has+less+than+10+available+quantity.+But+to+find+all+such%0D%0Aproducts%2C+you+would+need+to+iterate+over+all+Product-%2A+streams%2C+and+process%0D%0Aall+domain+events+stored+for+all+products.+That+would+be+costly+and+take+a%0D%0Alot+of+time.%0D%0A%0D%0AAll+that+use-cases+that+you+see+in+your+daily+job+get+a+little+harder+for%0D%0Aevent+sourced+objects%3A%0D%0A%0D%0A+++-+Show+me+last+10+registered+users%0D%0A+++-+Find+customers+by+emails+or+address%0D%0A+++-+What%E2%80%99s+the+total+amount+of+all+transaction+from+this+month%0D%0A+++-+What%E2%80%99s+the+Life+Time+Value+of+a+customer%0D%0A+++-+Search+all+products+with+the+text+%2Ablue+pillow%2A%0D%0A%0D%0Aand+so+on%2C+and+so+on%E2%80%A6%0D%0A%0D%0AWhy%3F%0D%0A%0D%0ABecause+when+an+Entity%2FAggregate+is+event-sourced%2C+there+is+only+one+method%0D%0Ayou+can+ask+the+repository+about+the+object.+And+that%E2%80%99s+find_by_id.+That%E2%80%99s%0D%0Ait.%0D%0A%0D%0AYou+know+the+Id+from+somewhere+ie%3A+other+entity+has+a+reference+to+it%2C+or%0D%0Afrom+UI%2C+or+from+API%2C+or+from+a+request.+And+you+can+do%3A%0D%0A%0D%0Aid+%3D+params%5B%3Aid%5D%0D%0Aproduct+%3D+ProductRepository.find_by_id%28id%29%0D%0A%0D%0AThe+repository+will+know+what+stream+of+events+it+should+read+%28ie.+Product-1%29%2C%0D%0Athose+events+will+be+applied+on+a+Product+instance+and+we+will+re-build+the%0D%0Acurrent+state+of+one+product.+That%E2%80%99s+it.%0D%0A%0D%0ASo+what%E2%80%99s+the+solution+to+all+those+before-mentioned+use-cases%3F+Read+models.%0D%0A%0D%0AIf+you+want+to+display+a+list+of+products+in+your+e-commerce+app+so+that%0D%0Acustomers+can+browse+them+and+call+commands+such+as+AddToBasket+and+Product+is%0D%0Aevent+sourced%2C+you+are+going+to+need+to+have+a+read-model+of+Products.+This%0D%0Aread+model+can+be+in+Elastic+Search+or+in+SQL+or+in+any+DB+you+want.+That%E2%80%99s%0D%0Aup+to+specific+requirements.%0D%0A%0D%0AHow+does+the+process+of+building+a+read+model+work+in+steps%3F%0D%0A%0D%0A+++1.+When+you+update+the+product%2C+you+do+it+by+persisting+new+domain%0D%0A+++events.%0D%0A+++2.+Event+handlers+are+triggered%0D%0A++++++-+They+can+be+triggered+by+a+message+queue+that+you+pushed+events%0D%0A++++++into%2C+after+they+had+been+stored%0D%0A+++++++++-+In+simplest+case+that+can+be+implemented+using+ActiveJob%2C+in%0D%0A+++++++++more+complex+scenarios+it+can+be+Kafka%2C+RabbitMQ+or+Amazon+SQS.%0D%0A++++++-+Or+you+have+a+separate+process+%28a+projection%29+constantly+iterating%0D%0A++++++over+saved+domain+events+and+picking+them+up+for+processing.%0D%0A+++++++++-+This+is+very+simple+when+you+use+EventStore+DB%0D%0A+++++++++%3Chttp%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26id%3D6e6773ca9f%26e%3D495d83f894%3E%0D%0Afor%0D%0A+++++++++saving+domain+events.%0D%0A++++++3.+The+event+handler+updates+the+read+model+accordingly+based+on+what%0D%0A+++happened%2C+what+domain+event+it+is+processing.%0D%0A%0D%0AAs+an+example.%0D%0A%0D%0AProductRegistered+event+can+cause+adding+a+new+element+to%0D%0AActiveRecord-backed+read+model+ProductList.%0D%0A%0D%0AProductList.create%21%28%0D%0A++id%3A+event.data%5B%3Aproduct_id%5D%2C%0D%0A++name%3A+event.data%5B%3Aname%5D%2C%0D%0A++price%3A+BigDecimal.new%28event.data%5B%3Aprice%5D%29%2C%0D%0A%29%0D%0A%0D%0AProductPriceChanged+event+can+cause+updating+the+price+on+the+list.%0D%0A%0D%0AProductList.%0D%0A++find_by%21%28id%3A+event.data%5B%3Aproduct_id%5D%29.%0D%0A++update_attributes%21%28%0D%0A++++price%3A+BigDecimal.new%28event.data%5B%3Aprice%5D%29%2C%0D%0A++%29%0D%0A%0D%0Aetc+etc.%0D%0A%0D%0AAnd+then+when+you+want+to+display+%2A10+most+expensive+products%2A+you+can+do%0D%0Ait+based+on+the+read+side+of+your+application%2C+based+on+the+ProductList%0D%0A+read-model.%0D%0A%0D%0AProductList.order%28%22price+DESC%22%29.limit%2810%29%0D%0A%0D%0AThe+write-side+of+your+application%2C+the+event-sourced+Product+class+is%0D%0Aabout+making+changes%2C+keeping+track+of+them%2C+and+protecting+business+rules.%0D%0AIt%E2%80%99s+the+side+responsible+for+publishing+ProductRegistered%0D%0Aor+ProductPriceChanged.%0D%0A%0D%0A%0D%0A%2ARobert+from+Arkency+%2A%0D%0ADid+you+like+the+EventSourcing+chapter+in+Domain-Driven+Rails%3F+Add+your%0D%0Aopinion+about+final+version+of+the+book+on+goodreads%0D%0A%3Chttp%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26id%3D7f5a9c4cd0%26e%3D495d83f894%3E.%0D%0A%0D%0A%2ACopyright+%C2%A9+2017+Arkency%2C+All+rights+reserved.%2A%0D%0AYou+are+receiving+this+email+because+you+subscribed+to+at+least+one+of%0D%0AArkency+Newsletters.%0D%0A%0D%0A%0D%0AWant+to+change+how+you+receive+these+emails%3F%0D%0AYou+can+update+your+preferences%0D%0A%3Chttp%3A%2F%2Farkency.us5.list-manage1.com%2Fprofile%3Fu%3D1bb42b52984bfa86e2ce35215%26id%3D4cee302d8a%26e%3D495d83f894%3E%0D%0Aor+unsubscribe+from+this+list%0D%0A%3Chttp%3A%2F%2Farkency.us5.list-manage.com%2Funsubscribe%3Fu%3D1bb42b52984bfa86e2ce35215%26id%3D4cee302d8a%26e%3D495d83f894%26c%3Dc749674707%3E%0D%0A.%0D%0A&body-html=%3Cdiv+dir%3D%22ltr%22%3E%3Cdiv+class%3D%22gmail_quote%22%3E%3Cbr%3E%3Cu%3E%3C%2Fu%3E%0D%0A%0D%0A%09%0D%0A%09%09%0D%0A%09%09%0D%0A%09%09%0D%0A++++++++%0D%0A++++++++%0D%0A%09%09%0D%0A%0D%0A++++%0D%0A++++%3Cdiv+style%3D%22height%3A100%25%3Bmargin%3A0%3Bpadding%3A0%3Bwidth%3A100%25%3Bbackground-color%3A%23fafafa%22%3E%0D%0A%09%09%0D%0A%09%09%3Cspan+class%3D%22m_-5119197465919920771mcnPreviewText%22+style%3D%22display%3Anone%3Bfont-size%3A0px%3Bline-height%3A0px%3Bmax-height%3A0px%3Bmax-width%3A0px%3Bopacity%3A0%3Boverflow%3Ahidden%22%3EWhy%3F+Why%2C+sir%3F%3C%2Fspan%3E%0D%0A%09%09%0D%0A++++++++%3Ccenter%3E%0D%0A++++++++++++%3Ctable+align%3D%22center%22+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+height%3D%22100%25%22+width%3D%22100%25%22+id%3D%22m_-5119197465919920771bodyTable%22+style%3D%22border-collapse%3Acollapse%3Bheight%3A100%25%3Bmargin%3A0%3Bpadding%3A0%3Bwidth%3A100%25%3Bbackground-color%3A%23fafafa%22%3E%0D%0A++++++++++++++++%3Ctbody%3E%3Ctr%3E%0D%0A++++++++++++++++++++%3Ctd+align%3D%22center%22+valign%3D%22top%22+id%3D%22m_-5119197465919920771bodyCell%22+style%3D%22height%3A100%25%3Bmargin%3A0%3Bpadding%3A10px%3Bwidth%3A100%25%3Bborder-top%3A0%22%3E%0D%0A++++++++++++++++++++++++%0D%0A%09%09%09%09%09%09%0D%0A++++++++++++++++++++++++%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+class%3D%22m_-5119197465919920771templateContainer%22+style%3D%22border-collapse%3Acollapse%3Bborder%3A0%3Bmax-width%3A600px%21important%22%3E%0D%0A++++++++++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0D%0A++++++++++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+id%3D%22m_-5119197465919920771templatePreheader%22+style%3D%22background%3A%23fafafa+none+no-repeat+center%2Fcover%3Bbackground-color%3A%23fafafa%3Bbackground-image%3Anone%3Bbackground-repeat%3Ano-repeat%3Bbackground-position%3Acenter%3Bbackground-size%3Acover%3Bborder-top%3A0%3Bborder-bottom%3A0%3Bpadding-top%3A9px%3Bpadding-bottom%3A9px%22%3E%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22%3E%0D%0A++++%3Ctbody%3E%0D%0A++++++++%3Ctr%3E%0D%0A++++++++++++%3Ctd+valign%3D%22top%22+style%3D%22padding-top%3A9px%22%3E%0D%0A++++++++++++++%09%0D%0A%09%09%09%0D%0A%09%09%09%09%0D%0A++++++++++++++++%3Ctable+align%3D%22left%22+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+style%3D%22max-width%3A100%25%3Bmin-width%3A100%25%3Bborder-collapse%3Acollapse%22+width%3D%22100%25%22+class%3D%22m_-5119197465919920771mcnTextContentContainer%22%3E%0D%0A++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0D%0A%0D%0A++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+class%3D%22m_-5119197465919920771mcnTextContent%22+style%3D%22padding%3A0px+18px+9px%3Btext-align%3Acenter%3Bword-break%3Abreak-word%3Bcolor%3A%23656565%3Bfont-family%3AHelvetica%3Bfont-size%3A12px%3Bline-height%3A150%25%22%3E%0D%0A%0D%0A++++++++++++++++++++++++++++%3Ca+href%3D%22http%3A%2F%2Fmailchi.mp%2Farkency%2Fwhy-event-sourcing-basically-requires-cqrs-and-read-models%3Fe%3D495d83f894%22+style%3D%22color%3A%23656565%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3EView+this+email+in+your+browser%3C%2Fa%3E%0D%0A++++++++++++++++++++++++%3C%2Ftd%3E%0D%0A++++++++++++++++++++%3C%2Ftr%3E%0D%0A++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0D%0A%09%09%09%09%0D%0A%0D%0A%09%09%09%09%0D%0A++++++++++++%3C%2Ftd%3E%0D%0A++++++++%3C%2Ftr%3E%0D%0A++++%3C%2Ftbody%3E%0D%0A%3C%2Ftable%3E%3C%2Ftd%3E%0D%0A++++++++++++++++++++++++++++%3C%2Ftr%3E%0D%0A++++++++++++++++++++++++++++%3Ctr%3E%0D%0A++++++++++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+id%3D%22m_-5119197465919920771templateHeader%22+style%3D%22background%3A%23ffffff+none+no-repeat+center%2Fcover%3Bbackground-color%3A%23ffffff%3Bbackground-image%3Anone%3Bbackground-repeat%3Ano-repeat%3Bbackground-position%3Acenter%3Bbackground-size%3Acover%3Bborder-top%3A0%3Bborder-bottom%3A0%3Bpadding-top%3A9px%3Bpadding-bottom%3A0%22%3E%3C%2Ftd%3E%0D%0A++++++++++++++++++++++++++++%3C%2Ftr%3E%0D%0A++++++++++++++++++++++++++++%3Ctr%3E%0D%0A++++++++++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+id%3D%22m_-5119197465919920771templateBody%22+style%3D%22background%3A%23ffffff+none+no-repeat+center%2Fcover%3Bbackground-color%3A%23ffffff%3Bbackground-image%3Anone%3Bbackground-repeat%3Ano-repeat%3Bbackground-position%3Acenter%3Bbackground-size%3Acover%3Bborder-top%3A0%3Bborder-bottom%3A2px+solid+%23eaeaea%3Bpadding-top%3A0%3Bpadding-bottom%3A9px%22%3E%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22%3E%0D%0A++++%0D%0A%09%3Ctbody%3E%0D%0A++++++++%3Ctr%3E%0D%0A++++++++++++%3Ctd+valign%3D%22top%22%3E%0D%0A%0D%0A%09%09%09%09%0D%0A++++++++++++++++%3Ctable+align%3D%22left%22+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22+class%3D%22m_-5119197465919920771mcnBoxedTextContentContainer%22%3E%0D%0A++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0D%0A%0D%0A++++++++++++++++++++++++%3Ctd+style%3D%22padding-top%3A9px%3Bpadding-left%3A18px%3Bpadding-bottom%3A9px%3Bpadding-right%3A18px%22%3E%0D%0A%0D%0A++++++++++++++++++++++++++++%3Ctable+border%3D%220%22+cellpadding%3D%2218%22+cellspacing%3D%220%22+class%3D%22m_-5119197465919920771mcnTextContentContainer%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%21important%3Bbackground-color%3A%23404040%3Bborder-collapse%3Acollapse%22%3E%0D%0A++++++++++++++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0D%0A++++++++++++++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+class%3D%22m_-5119197465919920771mcnTextContent%22+style%3D%22color%3A%23f2f2f2%3Bfont-family%3AHelvetica%3Bfont-size%3A14px%3Bfont-weight%3Anormal%3Btext-align%3Aleft%3Bword-break%3Abreak-word%3Bline-height%3A150%25%22%3E%0D%0A++++++++++++++++++++++++++++++++++++++++Hey%2C+the+Event+Sourcing+chapter+in%26nbsp%3B%3Ca+href%3D%22http%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3D66f8c740b4%26amp%3Be%3D495d83f894%22+style%3D%22color%3A%232baadf%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3EDomain-Driven+Rails%3C%2Fa%3E%26nbsp%3Bis+here+since+Monday%21+If+you+already+purchased+the+book%2C+you+should+have+received+a+separate+email+with+updated+version.+Check+your+inbox.+50+new+pages+are+waiting+for+you.+Food+for+though.%3Cbr%3E%0D%0A%3Cbr%3E%0D%0AIf+you+still+don%26%2339%3Bt+have+%3Ca+href%3D%22http%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3Dfd54208daf%26amp%3Be%3D495d83f894%22+style%3D%22color%3A%232baadf%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3EDomain-Driven+Rails%3C%2Fa%3E+use%26nbsp%3B%3Cstrong%3EEVENTSOURCING%3C%2Fstrong%3E%26nbsp%3Bcode+to+get+the+book+with%26nbsp%3B%3Cstrong%3E35%25+discount+today+%3C%2Fstrong%3Eand+enjoy+200+pages+describing+11+techniques+that+we+use+to+simplify+our+complex+apps.%0D%0A++++++++++++++++++++++++++++++++++++%3C%2Ftd%3E%0D%0A++++++++++++++++++++++++++++++++%3C%2Ftr%3E%0D%0A++++++++++++++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0D%0A++++++++++++++++++++++++%3C%2Ftd%3E%0D%0A++++++++++++++++++++%3C%2Ftr%3E%0D%0A++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0D%0A%09%09%09%09%0D%0A%0D%0A%09%09%09%09%0D%0A++++++++++++%3C%2Ftd%3E%0D%0A++++++++%3C%2Ftr%3E%0D%0A++++%3C%2Ftbody%3E%0D%0A%3C%2Ftable%3E%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22%3E%0D%0A++++%3Ctbody%3E%0D%0A++++++++%3Ctr%3E%0D%0A++++++++++++%3Ctd+valign%3D%22top%22+style%3D%22padding-top%3A9px%22%3E%0D%0A++++++++++++++%09%0D%0A%09%09%09%0D%0A%09%09%09%09%0D%0A++++++++++++++++%3Ctable+align%3D%22left%22+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+style%3D%22max-width%3A100%25%3Bmin-width%3A100%25%3Bborder-collapse%3Acollapse%22+width%3D%22100%25%22+class%3D%22m_-5119197465919920771mcnTextContentContainer%22%3E%0D%0A++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0D%0A%0D%0A++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+class%3D%22m_-5119197465919920771mcnTextContent%22+style%3D%22padding-top%3A0%3Bpadding-right%3A18px%3Bpadding-bottom%3A9px%3Bpadding-left%3A18px%3Bword-break%3Abreak-word%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3E%0D%0A%0D%0A++++++++++++++++++++++++++++%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EEvent+sourcing+is+a+nice+technique+with+certain+benefits.+But+it+has+a+big+limitation.+As+there+is+no+concept+of+easily+available%26nbsp%3B%3Cem%3Ecurrent+state%3C%2Fem%3E%2C+you+can%E2%80%99t+easily+get+an+answer+to+a+query+such+as%26nbsp%3B%3Cem%3Egive+me+all+products+with+available+quantity+lower+than+10%3C%2Fem%3E.%3Cbr%3E%0D%0A%26nbsp%3B%3C%2Fp%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EYou+could+read%26nbsp%3B%3Ccode%3EProduct-1%3C%2Fcode%3E%26nbsp%3Bstream+of+events+for%26nbsp%3B%3Ccode%3EProduct%3C%2Fcode%3E%26nbsp%3Bwith%26nbsp%3B%3Ccode%3EID%3D1%3C%2Fcode%3E%2C+use+them+to+rebuild+the+current+state+of+this+one+product+and+get+an+answer+to+whether+it+has+less+than+10+available+quantity.+But+to+find+all+such+products%2C+you+would+need+to+iterate+over+all%26nbsp%3B%3Ccode%3EProduct-%2A%3C%2Fcode%3E%26nbsp%3Bstreams%2C+and+process+all+domain+events+stored+for+all+products.+That+would+be+costly+and+take+a+lot+of+time.%3C%2Fp%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EAll+that+use-cases+that+you+see+in+your+daily+job+get+a+little+harder+for+event+sourced+objects%3A%3C%2Fp%3E%0D%0A%0D%0A%3Cul%3E%0D%0A%09%3Cli%3EShow+me+last+10+registered+users%3C%2Fli%3E%0D%0A%09%3Cli%3EFind+customers+by+emails+or+address%3C%2Fli%3E%0D%0A%09%3Cli%3EWhat%E2%80%99s+the+total+amount+of+all+transaction+from+this+month%3C%2Fli%3E%0D%0A%09%3Cli%3EWhat%E2%80%99s+the+Life+Time+Value+of+a+customer%3C%2Fli%3E%0D%0A%09%3Cli%3ESearch+all+products+with+the+text%26nbsp%3B%3Cem%3Eblue+pillow%3C%2Fem%3E%3C%2Fli%3E%0D%0A%3C%2Ful%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3Eand+so+on%2C+and+so+on%E2%80%A6%3C%2Fp%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EWhy%3F%3C%2Fp%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EBecause+when+an+Entity%2FAggregate+is+event-sourced%2C+there+is+only+one+method+you+can+ask+the+repository+about+the+object.+And+that%E2%80%99s%26nbsp%3B%3Ccode%3Efind_by_id%3C%2Fcode%3E.+That%E2%80%99s+it.%3C%2Fp%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EYou+know+the%26nbsp%3B%3Ccode%3EId%3C%2Fcode%3E%26nbsp%3Bfrom+somewhere+ie%3A+other+entity+has+a+reference+to+it%2C+or+from+UI%2C+or+from+API%2C+or+from+a+request.+And+you+can+do%3A%3C%2Fp%3E%0D%0A%0D%0A%3Cpre%3E%3Ccode%3Eid+%3D+params%5B%3Aid%5D%0D%0Aproduct+%3D+ProductRepository.find_by_id%28id%29%0D%0A%3C%2Fcode%3E%3C%2Fpre%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EThe+repository+will+know+what+stream+of+events+it+should+read+%28ie.%26nbsp%3B%3Ccode%3EProduct-1%3C%2Fcode%3E%29%2C+those+events+will+be+applied+on+a%26nbsp%3B%3Ccode%3EProduct%3C%2Fcode%3E%26nbsp%3Binstance+and+we+will+re-build+the+current+state+of+one+product.+That%E2%80%99s+it.%3C%2Fp%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3ESo+what%E2%80%99s+the+solution+to+all+those+before-mentioned+use-cases%3F+Read+models.%3C%2Fp%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EIf+you+want+to+display+a+list+of+products+in+your+e-commerce+app+so+that+customers+can+browse+them+and+call+commands+such+as%26nbsp%3B%3Ccode%3EAddToBasket%3C%2Fcode%3E%26nbsp%3Band%26nbsp%3B%3Ccode%3EProduct%3C%2Fcode%3E%26nbsp%3Bis+event+sourced%2C+you+are+going+to+need+to+have+a+read-model+of+Products.+This+read+model+can+be+in+Elastic+Search+or+in+SQL+or+in+any+DB+you+want.+That%E2%80%99s+up+to+specific+requirements.%3C%2Fp%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EHow+does+the+process+of+building+a+read+model+work+in+steps%3F%3C%2Fp%3E%0D%0A%0D%0A%3Col%3E%0D%0A%09%3Cli%3EWhen+you+update+the+product%2C+you+do+it+by+persisting+new+domain+events.%3C%2Fli%3E%0D%0A%09%3Cli%3EEvent+handlers+are+triggered%0D%0A%09%3Cul%3E%0D%0A%09%09%3Cli%3EThey+can+be+triggered+by+a+message+queue+that+you+pushed+events+into%2C+after+they+had+been+stored%0D%0A%09%09%3Cul%3E%0D%0A%09%09%09%3Cli%3EIn+simplest+case+that+can+be+implemented+using+ActiveJob%2C+in+more+complex+scenarios+it+can+be+Kafka%2C+RabbitMQ+or+Amazon+SQS.%3C%2Fli%3E%0D%0A%09%09%3C%2Ful%3E%0D%0A%09%09%3C%2Fli%3E%0D%0A%09%09%3Cli%3EOr+you+have+a+separate+process+%28a+projection%29+constantly+iterating+over+saved+domain+events+and+picking+them+up+for+processing.%0D%0A%09%09%3Cul%3E%0D%0A%09%09%09%3Cli%3EThis+is+very+simple+when+you+use%26nbsp%3B%3Ca+href%3D%22http%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3D6e6773ca9f%26amp%3Be%3D495d83f894%22+style%3D%22color%3A%232baadf%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3EEventStore+DB%3C%2Fa%3E%26nbsp%3Bfor+saving+domain+events.%3C%2Fli%3E%0D%0A%09%09%3C%2Ful%3E%0D%0A%09%09%3C%2Fli%3E%0D%0A%09%3C%2Ful%3E%0D%0A%09%3C%2Fli%3E%0D%0A%09%3Cli%3EThe+event+handler+updates+the+read+model+accordingly+based+on+what+happened%2C+what+domain+event+it+is+processing.%3C%2Fli%3E%0D%0A%3C%2Fol%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EAs+an+example.%3C%2Fp%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3E%3Ccode%3EProductRegistered%3C%2Fcode%3E%26nbsp%3Bevent+can+cause+adding+a+new+element+to+ActiveRecord-backed+read+model%26nbsp%3B%3Ccode%3EProductList%3C%2Fcode%3E.%3C%2Fp%3E%0D%0A%0D%0A%3Cpre%3E%3Ccode%3EProductList.create%21%28%0D%0A++id%3A+event.data%5B%3Aproduct_id%5D%2C%0D%0A++name%3A+event.data%5B%3Aname%5D%2C%0D%0A++price%3A+BigDecimal.new%28event.data%5B%3Aprice%5D%29%2C%0D%0A%29%0D%0A%3C%2Fcode%3E%3C%2Fpre%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3E%3Ccode%3EProductPriceChanged%3C%2Fcode%3E%26nbsp%3Bevent+can+cause+updating+the+price+on+the+list.%3C%2Fp%3E%0D%0A%0D%0A%3Cpre%3E%3Ccode%3EProductList.%0D%0A++find_by%21%28id%3A+event.data%5B%3Aproduct_id%5D%29.%0D%0A++update_attributes%21%28%0D%0A++++price%3A+BigDecimal.new%28event.data%5B%3Aprice%5D%29%2C%0D%0A++%29%0D%0A%3C%2Fcode%3E%3C%2Fpre%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3Eetc+etc.%3C%2Fp%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EAnd+then+when+you+want+to+display%26nbsp%3B%3Cem%3E10+most+expensive+products%3C%2Fem%3E%26nbsp%3Byou+can+do+it+based+on+the+read+side+of+your+application%2C+based+on+the%26nbsp%3B%3Ccode%3EProductList%3C%2Fcode%3E%26nbsp%3Bread-model.%3C%2Fp%3E%0D%0A%0D%0A%3Cpre%3E%3Ccode%3EProductList.order%28%26quot%3Bprice+DESC%26quot%3B%29.limit%2810%29%0D%0A%3C%2Fcode%3E%3C%2Fpre%3E%0D%0A%0D%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EThe+write-side+of+your+application%2C+the+event-sourced%26nbsp%3B%3Ccode%3EProduct%3C%2Fcode%3E%26nbsp%3Bclass+is+about+making+changes%2C+keeping+track+of+them%2C+and+protecting+business+rules.+It%E2%80%99s+the+side+responsible+for+publishing%26nbsp%3B%3Ccode%3EProductRegistered%3C%2Fcode%3E%3Cbr%3E%0D%0Aor%26nbsp%3B%3Ccode%3EProductPriceChanged%3C%2Fcode%3E.%3Cbr%3E%0D%0A%3Cbr%3E%0D%0A%3Cem%3ERobert+from+Arkency%3Cbr%3E%0D%0A%3Cimg+height%3D%22112%22+src%3D%22https%3A%2F%2Fgallery.mailchimp.com%2F1bb42b52984bfa86e2ce35215%2Fimages%2F2ffe083c-c656-48a1-a020-28cbe77b976e.jpg%22+style%3D%22border%3A0px%3Bwidth%3A200px%3Bheight%3A112px%3Bmargin%3A0px%3Boutline%3Anone%3Btext-decoration%3Anone%22+width%3D%22200%22%3E%3C%2Fem%3E%3C%2Fp%3E%0D%0A%0D%0A++++++++++++++++++++++++%3C%2Ftd%3E%0D%0A++++++++++++++++++++%3C%2Ftr%3E%0D%0A++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0D%0A%09%09%09%09%0D%0A%0D%0A%09%09%09%09%0D%0A++++++++++++%3C%2Ftd%3E%0D%0A++++++++%3C%2Ftr%3E%0D%0A++++%3C%2Ftbody%3E%0D%0A%3C%2Ftable%3E%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22%3E%0D%0A++++%0D%0A%09%3Ctbody%3E%0D%0A++++++++%3Ctr%3E%0D%0A++++++++++++%3Ctd+valign%3D%22top%22%3E%0D%0A%0D%0A%09%09%09%09%0D%0A++++++++++++++++%3Ctable+align%3D%22left%22+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22+class%3D%22m_-5119197465919920771mcnBoxedTextContentContainer%22%3E%0D%0A++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0D%0A%0D%0A++++++++++++++++++++++++%3Ctd+style%3D%22padding-top%3A9px%3Bpadding-left%3A18px%3Bpadding-bottom%3A9px%3Bpadding-right%3A18px%22%3E%0D%0A%0D%0A++++++++++++++++++++++++++++%3Ctable+border%3D%220%22+cellpadding%3D%2218%22+cellspacing%3D%220%22+class%3D%22m_-5119197465919920771mcnTextContentContainer%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%21important%3Bbackground-color%3A%23404040%3Bborder-collapse%3Acollapse%22%3E%0D%0A++++++++++++++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0D%0A++++++++++++++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+class%3D%22m_-5119197465919920771mcnTextContent%22+style%3D%22color%3A%23f2f2f2%3Bfont-family%3AHelvetica%3Bfont-size%3A14px%3Bfont-weight%3Anormal%3Btext-align%3Aleft%3Bword-break%3Abreak-word%3Bline-height%3A150%25%22%3E%0D%0A++++++++++++++++++++++++++++++++++++++++Did+you+like+the+EventSourcing+chapter+in+Domain-Driven+Rails%3F+Add+your+opinion+about+final+version+of+the+book+%3Ca+href%3D%22http%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3D7f5a9c4cd0%26amp%3Be%3D495d83f894%22+style%3D%22color%3A%232baadf%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3Eon+goodreads%3C%2Fa%3E.%0D%0A++++++++++++++++++++++++++++++++++++%3C%2Ftd%3E%0D%0A++++++++++++++++++++++++++++++++%3C%2Ftr%3E%0D%0A++++++++++++++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0D%0A++++++++++++++++++++++++%3C%2Ftd%3E%0D%0A++++++++++++++++++++%3C%2Ftr%3E%0D%0A++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0D%0A%09%09%09%09%0D%0A%0D%0A%09%09%09%09%0D%0A++++++++++++%3C%2Ftd%3E%0D%0A++++++++%3C%2Ftr%3E%0D%0A++++%3C%2Ftbody%3E%0D%0A%3C%2Ftable%3E%3C%2Ftd%3E%0D%0A++++++++++++++++++++++++++++%3C%2Ftr%3E%0D%0A++++++++++++++++++++++++++++%3Ctr%3E%0D%0A++++++++++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+id%3D%22m_-5119197465919920771templateFooter%22+style%3D%22background%3A%23fafafa+none+no-repeat+center%2Fcover%3Bbackground-color%3A%23fafafa%3Bbackground-image%3Anone%3Bbackground-repeat%3Ano-repeat%3Bbackground-position%3Acenter%3Bbackground-size%3Acover%3Bborder-top%3A0%3Bborder-bottom%3A0%3Bpadding-top%3A9px%3Bpadding-bottom%3A9px%22%3E%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+class%3D%22m_-5119197465919920771mcnDividerBlock%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%3Btable-layout%3Afixed%21important%22%3E%0D%0A++++%3Ctbody%3E%0D%0A++++++++%3Ctr%3E%0D%0A++++++++++++%3Ctd+style%3D%22min-width%3A100%25%3Bpadding%3A10px+18px+25px%22%3E%0D%0A++++++++++++++++%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-top%3A2px+solid+%23eeeeee%3Bborder-collapse%3Acollapse%22%3E%0D%0A++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0D%0A++++++++++++++++++++++++%3Ctd%3E%0D%0A++++++++++++++++++++++++++++%3Cspan%3E%3C%2Fspan%3E%0D%0A++++++++++++++++++++++++%3C%2Ftd%3E%0D%0A++++++++++++++++++++%3C%2Ftr%3E%0D%0A++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0D%0A%0D%0A++++++++++++%3C%2Ftd%3E%0D%0A++++++++%3C%2Ftr%3E%0D%0A++++%3C%2Ftbody%3E%0D%0A%3C%2Ftable%3E%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22%3E%0D%0A++++%3Ctbody%3E%0D%0A++++++++%3Ctr%3E%0D%0A++++++++++++%3Ctd+valign%3D%22top%22+style%3D%22padding-top%3A9px%22%3E%0D%0A++++++++++++++%09%0D%0A%09%09%09%0D%0A%09%09%09%09%0D%0A++++++++++++++++%3Ctable+align%3D%22left%22+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+style%3D%22max-width%3A100%25%3Bmin-width%3A100%25%3Bborder-collapse%3Acollapse%22+width%3D%22100%25%22+class%3D%22m_-5119197465919920771mcnTextContentContainer%22%3E%0D%0A++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0D%0A%0D%0A++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+class%3D%22m_-5119197465919920771mcnTextContent%22+style%3D%22padding-top%3A0%3Bpadding-right%3A18px%3Bpadding-bottom%3A9px%3Bpadding-left%3A18px%3Bword-break%3Abreak-word%3Bcolor%3A%23656565%3Bfont-family%3AHelvetica%3Bfont-size%3A12px%3Bline-height%3A150%25%3Btext-align%3Acenter%22%3E%0D%0A%0D%0A++++++++++++++++++++++++++++%3Cem%3ECopyright+%C2%A9+2017+Arkency%2C+All+rights+reserved.%3C%2Fem%3E%3Cbr%3E%0D%0A+You+are+receiving+this+email+because+you+subscribed+to+at+least+one+of+Arkency+Newsletters.%3Cbr%3E%0D%0A%3Cbr%3E%0D%0A%3Cbr%3E%0D%0AWant+to+change+how+you+receive+these+emails%3F%3Cbr%3E%0D%0AYou+can+%3Ca+href%3D%22http%3A%2F%2Farkency.us5.list-manage1.com%2Fprofile%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3D4cee302d8a%26amp%3Be%3D495d83f894%22+style%3D%22color%3A%23656565%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3Eupdate+your+preferences%3C%2Fa%3E+or+%3Ca+href%3D%22http%3A%2F%2Farkency.us5.list-manage.com%2Funsubscribe%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3D4cee302d8a%26amp%3Be%3D495d83f894%26amp%3Bc%3Dc749674707%22+style%3D%22color%3A%23656565%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3Eunsubscribe+from+this+list%3C%2Fa%3E.%3Cbr%3E%0D%0A%3Cbr%3E%0D%0A++++++++++++++++++++++++%3C%2Ftd%3E%0D%0A++++++++++++++++++++%3C%2Ftr%3E%0D%0A++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0D%0A%09%09%09%09%0D%0A%0D%0A%09%09%09%09%0D%0A++++++++++++%3C%2Ftd%3E%0D%0A++++++++%3C%2Ftr%3E%0D%0A++++%3C%2Ftbody%3E%0D%0A%3C%2Ftable%3E%3C%2Ftd%3E%0D%0A++++++++++++++++++++++++++++%3C%2Ftr%3E%0D%0A++++++++++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0D%0A%09%09%09%09%09%09%0D%0A++++++++++++++++++++++++%0D%0A++++++++++++++++++++%3C%2Ftd%3E%0D%0A++++++++++++++++%3C%2Ftr%3E%0D%0A++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0D%0A++++++++%3C%2Fcenter%3E%0D%0A++++%3Cimg+src%3D%22http%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fopen.php%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3Dc749674707%26amp%3Be%3D495d83f894%22+height%3D%221%22+width%3D%221%22%3E%3C%2Fdiv%3E%0D%0A%3C%2Fdiv%3E%3C%2Fdiv%3E%0D%0A&stripped-text=Why%3F+Why%2C+sir%3F%0D%0AView+this+email+in+your+browser%0D%0A%3Chttp%3A%2F%2Fmailchi.mp%2Farkency%2Fwhy-event-sourcing-basically-requires-cqrs-and-read-models%3Fe%3D495d83f894%3E%0D%0AHey%2C+the+Event+Sourcing+chapter+in+Domain-Driven+Rails%0D%0A%3Chttp%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26id%3D66f8c740b4%26e%3D495d83f894%3E%0D%0Ais%0D%0Ahere+since+Monday%21+If+you+already+purchased+the+book%2C+you+should+have%0D%0Areceived+a+separate+email+with+updated+version.+Check+your+inbox.+50+new%0D%0Apages+are+waiting+for+you.+Food+for+though.%0D%0A%0D%0AIf+you+still+don%27t+have+Domain-Driven+Rails%0D%0A%3Chttp%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26id%3Dfd54208daf%26e%3D495d83f894%3E%0D%0Ause+%2AEVENTSOURCING%2A+code+to+get+the+book+with+%2A35%25+discount+today+%2Aand%0D%0Aenjoy+200+pages+describing+11+techniques+that+we+use+to+simplify+our%0D%0Acomplex+apps.%0D%0A%0D%0AEvent+sourcing+is+a+nice+technique+with+certain+benefits.+But+it+has+a+big%0D%0Alimitation.+As+there+is+no+concept+of+easily+available+%2Acurrent+state%2A%2C+you%0D%0Acan%E2%80%99t+easily+get+an+answer+to+a+query+such+as+%2Agive+me+all+products+with%0D%0Aavailable+quantity+lower+than+10%2A.%0D%0A%0D%0A%0D%0AYou+could+read+Product-1+stream+of+events+for+Product+with+ID%3D1%2C+use+them%0D%0Ato+rebuild+the+current+state+of+this+one+product+and+get+an+answer+to%0D%0Awhether+it+has+less+than+10+available+quantity.+But+to+find+all+such%0D%0Aproducts%2C+you+would+need+to+iterate+over+all+Product-%2A+streams%2C+and+process%0D%0Aall+domain+events+stored+for+all+products.+That+would+be+costly+and+take+a%0D%0Alot+of+time.%0D%0A%0D%0AAll+that+use-cases+that+you+see+in+your+daily+job+get+a+little+harder+for%0D%0Aevent+sourced+objects%3A%0D%0A%0D%0A+++-+Show+me+last+10+registered+users%0D%0A+++-+Find+customers+by+emails+or+address%0D%0A+++-+What%E2%80%99s+the+total+amount+of+all+transaction+from+this+month%0D%0A+++-+What%E2%80%99s+the+Life+Time+Value+of+a+customer%0D%0A+++-+Search+all+products+with+the+text+%2Ablue+pillow%2A%0D%0A%0D%0Aand+so+on%2C+and+so+on%E2%80%A6%0D%0A%0D%0AWhy%3F%0D%0A%0D%0ABecause+when+an+Entity%2FAggregate+is+event-sourced%2C+there+is+only+one+method%0D%0Ayou+can+ask+the+repository+about+the+object.+And+that%E2%80%99s+find_by_id.+That%E2%80%99s%0D%0Ait.%0D%0A%0D%0AYou+know+the+Id+from+somewhere+ie%3A+other+entity+has+a+reference+to+it%2C+or%0D%0Afrom+UI%2C+or+from+API%2C+or+from+a+request.+And+you+can+do%3A%0D%0A%0D%0Aid+%3D+params%5B%3Aid%5D%0D%0Aproduct+%3D+ProductRepository.find_by_id%28id%29%0D%0A%0D%0AThe+repository+will+know+what+stream+of+events+it+should+read+%28ie.+Product-1%29%2C%0D%0Athose+events+will+be+applied+on+a+Product+instance+and+we+will+re-build+the%0D%0Acurrent+state+of+one+product.+That%E2%80%99s+it.%0D%0A%0D%0ASo+what%E2%80%99s+the+solution+to+all+those+before-mentioned+use-cases%3F+Read+models.%0D%0A%0D%0AIf+you+want+to+display+a+list+of+products+in+your+e-commerce+app+so+that%0D%0Acustomers+can+browse+them+and+call+commands+such+as+AddToBasket+and+Product+is%0D%0Aevent+sourced%2C+you+are+going+to+need+to+have+a+read-model+of+Products.+This%0D%0Aread+model+can+be+in+Elastic+Search+or+in+SQL+or+in+any+DB+you+want.+That%E2%80%99s%0D%0Aup+to+specific+requirements.%0D%0A%0D%0AHow+does+the+process+of+building+a+read+model+work+in+steps%3F%0D%0A%0D%0A+++1.+When+you+update+the+product%2C+you+do+it+by+persisting+new+domain%0D%0A+++events.%0D%0A+++2.+Event+handlers+are+triggered%0D%0A++++++-+They+can+be+triggered+by+a+message+queue+that+you+pushed+events%0D%0A++++++into%2C+after+they+had+been+stored%0D%0A+++++++++-+In+simplest+case+that+can+be+implemented+using+ActiveJob%2C+in%0D%0A+++++++++more+complex+scenarios+it+can+be+Kafka%2C+RabbitMQ+or+Amazon+SQS.%0D%0A++++++-+Or+you+have+a+separate+process+%28a+projection%29+constantly+iterating%0D%0A++++++over+saved+domain+events+and+picking+them+up+for+processing.%0D%0A+++++++++-+This+is+very+simple+when+you+use+EventStore+DB%0D%0A+++++++++%3Chttp%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26id%3D6e6773ca9f%26e%3D495d83f894%3E%0D%0Afor%0D%0A+++++++++saving+domain+events.%0D%0A++++++3.+The+event+handler+updates+the+read+model+accordingly+based+on+what%0D%0A+++happened%2C+what+domain+event+it+is+processing.%0D%0A%0D%0AAs+an+example.%0D%0A%0D%0AProductRegistered+event+can+cause+adding+a+new+element+to%0D%0AActiveRecord-backed+read+model+ProductList.%0D%0A%0D%0AProductList.create%21%28%0D%0A++id%3A+event.data%5B%3Aproduct_id%5D%2C%0D%0A++name%3A+event.data%5B%3Aname%5D%2C%0D%0A++price%3A+BigDecimal.new%28event.data%5B%3Aprice%5D%29%2C%0D%0A%29%0D%0A%0D%0AProductPriceChanged+event+can+cause+updating+the+price+on+the+list.%0D%0A%0D%0AProductList.%0D%0A++find_by%21%28id%3A+event.data%5B%3Aproduct_id%5D%29.%0D%0A++update_attributes%21%28%0D%0A++++price%3A+BigDecimal.new%28event.data%5B%3Aprice%5D%29%2C%0D%0A++%29%0D%0A%0D%0Aetc+etc.%0D%0A%0D%0AAnd+then+when+you+want+to+display+%2A10+most+expensive+products%2A+you+can+do%0D%0Ait+based+on+the+read+side+of+your+application%2C+based+on+the+ProductList%0D%0A+read-model.%0D%0A%0D%0AProductList.order%28%22price+DESC%22%29.limit%2810%29%0D%0A%0D%0AThe+write-side+of+your+application%2C+the+event-sourced+Product+class+is%0D%0Aabout+making+changes%2C+keeping+track+of+them%2C+and+protecting+business+rules.%0D%0AIt%E2%80%99s+the+side+responsible+for+publishing+ProductRegistered%0D%0Aor+ProductPriceChanged.%0D%0A%0D%0A%0D%0A%2ARobert+from+Arkency+%2A%0D%0ADid+you+like+the+EventSourcing+chapter+in+Domain-Driven+Rails%3F+Add+your%0D%0Aopinion+about+final+version+of+the+book+on+goodreads%0D%0A%3Chttp%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26id%3D7f5a9c4cd0%26e%3D495d83f894%3E.%0D%0A%0D%0A%2ACopyright+%C2%A9+2017+Arkency%2C+All+rights+reserved.%2A%0D%0AYou+are+receiving+this+email+because+you+subscribed+to+at+least+one+of%0D%0AArkency+Newsletters.%0D%0A%0D%0A%0D%0AWant+to+change+how+you+receive+these+emails%3F%0D%0AYou+can+update+your+preferences%0D%0A%3Chttp%3A%2F%2Farkency.us5.list-manage1.com%2Fprofile%3Fu%3D1bb42b52984bfa86e2ce35215%26id%3D4cee302d8a%26e%3D495d83f894%3E%0D%0Aor+unsubscribe+from+this+list%0D%0A%3Chttp%3A%2F%2Farkency.us5.list-manage.com%2Funsubscribe%3Fu%3D1bb42b52984bfa86e2ce35215%26id%3D4cee302d8a%26e%3D495d83f894%26c%3Dc749674707%3E%0D%0A.&stripped-html=%3Cdiv+dir%3D%22ltr%22%3E%3Cdiv+class%3D%22gmail_quote%22%3E%3Cbr%3E%3Cu%3E%3C%2Fu%3E%0A%0A%09%0A%09%09%0A%09%09%0A%09%09%0A++++++++%0A++++++++%0A%09%09%0A%0A++++%0A++++%3Cdiv+style%3D%22height%3A100%25%3Bmargin%3A0%3Bpadding%3A0%3Bwidth%3A100%25%3Bbackground-color%3A%23fafafa%22%3E%0A%09%09%0A%09%09%3Cspan+class%3D%22m_-5119197465919920771mcnPreviewText%22+style%3D%22display%3Anone%3Bfont-size%3A0px%3Bline-height%3A0px%3Bmax-height%3A0px%3Bmax-width%3A0px%3Bopacity%3A0%3Boverflow%3Ahidden%22%3EWhy%3F+Why%2C+sir%3F%3C%2Fspan%3E%0A%09%09%0A++++++++%3Ccenter%3E%0A++++++++++++%3Ctable+align%3D%22center%22+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+height%3D%22100%25%22+width%3D%22100%25%22+id%3D%22m_-5119197465919920771bodyTable%22+style%3D%22border-collapse%3Acollapse%3Bheight%3A100%25%3Bmargin%3A0%3Bpadding%3A0%3Bwidth%3A100%25%3Bbackground-color%3A%23fafafa%22%3E%0A++++++++++++++++%3Ctbody%3E%3Ctr%3E%0A++++++++++++++++++++%3Ctd+align%3D%22center%22+valign%3D%22top%22+id%3D%22m_-5119197465919920771bodyCell%22+style%3D%22height%3A100%25%3Bmargin%3A0%3Bpadding%3A10px%3Bwidth%3A100%25%3Bborder-top%3A0%22%3E%0A++++++++++++++++++++++++%0A%09%09%09%09%09%09%0A++++++++++++++++++++++++%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+class%3D%22m_-5119197465919920771templateContainer%22+style%3D%22border-collapse%3Acollapse%3Bborder%3A0%3Bmax-width%3A600px%21important%22%3E%0A++++++++++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0A++++++++++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+id%3D%22m_-5119197465919920771templatePreheader%22+style%3D%22background%3A%23fafafa+none+no-repeat+center%2Fcover%3Bbackground-color%3A%23fafafa%3Bbackground-image%3Anone%3Bbackground-repeat%3Ano-repeat%3Bbackground-position%3Acenter%3Bbackground-size%3Acover%3Bborder-top%3A0%3Bborder-bottom%3A0%3Bpadding-top%3A9px%3Bpadding-bottom%3A9px%22%3E%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22%3E%0A++++%3Ctbody%3E%0A++++++++%3Ctr%3E%0A++++++++++++%3Ctd+valign%3D%22top%22+style%3D%22padding-top%3A9px%22%3E%0A++++++++++++++%09%0A%09%09%09%0A%09%09%09%09%0A++++++++++++++++%3Ctable+align%3D%22left%22+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+style%3D%22max-width%3A100%25%3Bmin-width%3A100%25%3Bborder-collapse%3Acollapse%22+width%3D%22100%25%22+class%3D%22m_-5119197465919920771mcnTextContentContainer%22%3E%0A++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0A%0A++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+class%3D%22m_-5119197465919920771mcnTextContent%22+style%3D%22padding%3A0px+18px+9px%3Btext-align%3Acenter%3Bword-break%3Abreak-word%3Bcolor%3A%23656565%3Bfont-family%3AHelvetica%3Bfont-size%3A12px%3Bline-height%3A150%25%22%3E%0A%0A++++++++++++++++++++++++++++%3Ca+href%3D%22http%3A%2F%2Fmailchi.mp%2Farkency%2Fwhy-event-sourcing-basically-requires-cqrs-and-read-models%3Fe%3D495d83f894%22+style%3D%22color%3A%23656565%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3EView+this+email+in+your+browser%3C%2Fa%3E%0A++++++++++++++++++++++++%3C%2Ftd%3E%0A++++++++++++++++++++%3C%2Ftr%3E%0A++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0A%09%09%09%09%0A%0A%09%09%09%09%0A++++++++++++%3C%2Ftd%3E%0A++++++++%3C%2Ftr%3E%0A++++%3C%2Ftbody%3E%0A%3C%2Ftable%3E%3C%2Ftd%3E%0A++++++++++++++++++++++++++++%3C%2Ftr%3E%0A++++++++++++++++++++++++++++%3Ctr%3E%0A++++++++++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+id%3D%22m_-5119197465919920771templateHeader%22+style%3D%22background%3A%23ffffff+none+no-repeat+center%2Fcover%3Bbackground-color%3A%23ffffff%3Bbackground-image%3Anone%3Bbackground-repeat%3Ano-repeat%3Bbackground-position%3Acenter%3Bbackground-size%3Acover%3Bborder-top%3A0%3Bborder-bottom%3A0%3Bpadding-top%3A9px%3Bpadding-bottom%3A0%22%3E%3C%2Ftd%3E%0A++++++++++++++++++++++++++++%3C%2Ftr%3E%0A++++++++++++++++++++++++++++%3Ctr%3E%0A++++++++++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+id%3D%22m_-5119197465919920771templateBody%22+style%3D%22background%3A%23ffffff+none+no-repeat+center%2Fcover%3Bbackground-color%3A%23ffffff%3Bbackground-image%3Anone%3Bbackground-repeat%3Ano-repeat%3Bbackground-position%3Acenter%3Bbackground-size%3Acover%3Bborder-top%3A0%3Bborder-bottom%3A2px+solid+%23eaeaea%3Bpadding-top%3A0%3Bpadding-bottom%3A9px%22%3E%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22%3E%0A++++%0A%09%3Ctbody%3E%0A++++++++%3Ctr%3E%0A++++++++++++%3Ctd+valign%3D%22top%22%3E%0A%0A%09%09%09%09%0A++++++++++++++++%3Ctable+align%3D%22left%22+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22+class%3D%22m_-5119197465919920771mcnBoxedTextContentContainer%22%3E%0A++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0A%0A++++++++++++++++++++++++%3Ctd+style%3D%22padding-top%3A9px%3Bpadding-left%3A18px%3Bpadding-bottom%3A9px%3Bpadding-right%3A18px%22%3E%0A%0A++++++++++++++++++++++++++++%3Ctable+border%3D%220%22+cellpadding%3D%2218%22+cellspacing%3D%220%22+class%3D%22m_-5119197465919920771mcnTextContentContainer%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%21important%3Bbackground-color%3A%23404040%3Bborder-collapse%3Acollapse%22%3E%0A++++++++++++++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0A++++++++++++++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+class%3D%22m_-5119197465919920771mcnTextContent%22+style%3D%22color%3A%23f2f2f2%3Bfont-family%3AHelvetica%3Bfont-size%3A14px%3Bfont-weight%3Anormal%3Btext-align%3Aleft%3Bword-break%3Abreak-word%3Bline-height%3A150%25%22%3E%0A++++++++++++++++++++++++++++++++++++++++Hey%2C+the+Event+Sourcing+chapter+in%26nbsp%3B%3Ca+href%3D%22http%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3D66f8c740b4%26amp%3Be%3D495d83f894%22+style%3D%22color%3A%232baadf%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3EDomain-Driven+Rails%3C%2Fa%3E%26nbsp%3Bis+here+since+Monday%21+If+you+already+purchased+the+book%2C+you+should+have+received+a+separate+email+with+updated+version.+Check+your+inbox.+50+new+pages+are+waiting+for+you.+Food+for+though.%3Cbr%3E%0A%3Cbr%3E%0AIf+you+still+don%26%2339%3Bt+have+%3Ca+href%3D%22http%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3Dfd54208daf%26amp%3Be%3D495d83f894%22+style%3D%22color%3A%232baadf%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3EDomain-Driven+Rails%3C%2Fa%3E+use%26nbsp%3B%3Cstrong%3EEVENTSOURCING%3C%2Fstrong%3E%26nbsp%3Bcode+to+get+the+book+with%26nbsp%3B%3Cstrong%3E35%25+discount+today+%3C%2Fstrong%3Eand+enjoy+200+pages+describing+11+techniques+that+we+use+to+simplify+our+complex+apps.%0A++++++++++++++++++++++++++++++++++++%3C%2Ftd%3E%0A++++++++++++++++++++++++++++++++%3C%2Ftr%3E%0A++++++++++++++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0A++++++++++++++++++++++++%3C%2Ftd%3E%0A++++++++++++++++++++%3C%2Ftr%3E%0A++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0A%09%09%09%09%0A%0A%09%09%09%09%0A++++++++++++%3C%2Ftd%3E%0A++++++++%3C%2Ftr%3E%0A++++%3C%2Ftbody%3E%0A%3C%2Ftable%3E%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22%3E%0A++++%3Ctbody%3E%0A++++++++%3Ctr%3E%0A++++++++++++%3Ctd+valign%3D%22top%22+style%3D%22padding-top%3A9px%22%3E%0A++++++++++++++%09%0A%09%09%09%0A%09%09%09%09%0A++++++++++++++++%3Ctable+align%3D%22left%22+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+style%3D%22max-width%3A100%25%3Bmin-width%3A100%25%3Bborder-collapse%3Acollapse%22+width%3D%22100%25%22+class%3D%22m_-5119197465919920771mcnTextContentContainer%22%3E%0A++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0A%0A++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+class%3D%22m_-5119197465919920771mcnTextContent%22+style%3D%22padding-top%3A0%3Bpadding-right%3A18px%3Bpadding-bottom%3A9px%3Bpadding-left%3A18px%3Bword-break%3Abreak-word%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3E%0A%0A++++++++++++++++++++++++++++%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EEvent+sourcing+is+a+nice+technique+with+certain+benefits.+But+it+has+a+big+limitation.+As+there+is+no+concept+of+easily+available%26nbsp%3B%3Cem%3Ecurrent+state%3C%2Fem%3E%2C+you+can%E2%80%99t+easily+get+an+answer+to+a+query+such+as%26nbsp%3B%3Cem%3Egive+me+all+products+with+available+quantity+lower+than+10%3C%2Fem%3E.%3Cbr%3E%0A%26nbsp%3B%3C%2Fp%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EYou+could+read%26nbsp%3B%3Ccode%3EProduct-1%3C%2Fcode%3E%26nbsp%3Bstream+of+events+for%26nbsp%3B%3Ccode%3EProduct%3C%2Fcode%3E%26nbsp%3Bwith%26nbsp%3B%3Ccode%3EID%3D1%3C%2Fcode%3E%2C+use+them+to+rebuild+the+current+state+of+this+one+product+and+get+an+answer+to+whether+it+has+less+than+10+available+quantity.+But+to+find+all+such+products%2C+you+would+need+to+iterate+over+all%26nbsp%3B%3Ccode%3EProduct-%2A%3C%2Fcode%3E%26nbsp%3Bstreams%2C+and+process+all+domain+events+stored+for+all+products.+That+would+be+costly+and+take+a+lot+of+time.%3C%2Fp%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EAll+that+use-cases+that+you+see+in+your+daily+job+get+a+little+harder+for+event+sourced+objects%3A%3C%2Fp%3E%0A%0A%3Cul%3E%0A%09%3Cli%3EShow+me+last+10+registered+users%3C%2Fli%3E%0A%09%3Cli%3EFind+customers+by+emails+or+address%3C%2Fli%3E%0A%09%3Cli%3EWhat%E2%80%99s+the+total+amount+of+all+transaction+from+this+month%3C%2Fli%3E%0A%09%3Cli%3EWhat%E2%80%99s+the+Life+Time+Value+of+a+customer%3C%2Fli%3E%0A%09%3Cli%3ESearch+all+products+with+the+text%26nbsp%3B%3Cem%3Eblue+pillow%3C%2Fem%3E%3C%2Fli%3E%0A%3C%2Ful%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3Eand+so+on%2C+and+so+on%E2%80%A6%3C%2Fp%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EWhy%3F%3C%2Fp%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EBecause+when+an+Entity%2FAggregate+is+event-sourced%2C+there+is+only+one+method+you+can+ask+the+repository+about+the+object.+And+that%E2%80%99s%26nbsp%3B%3Ccode%3Efind_by_id%3C%2Fcode%3E.+That%E2%80%99s+it.%3C%2Fp%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EYou+know+the%26nbsp%3B%3Ccode%3EId%3C%2Fcode%3E%26nbsp%3Bfrom+somewhere+ie%3A+other+entity+has+a+reference+to+it%2C+or+from+UI%2C+or+from+API%2C+or+from+a+request.+And+you+can+do%3A%3C%2Fp%3E%0A%0A%3Cpre%3E%3Ccode%3Eid+%3D+params%5B%3Aid%5D%0Aproduct+%3D+ProductRepository.find_by_id%28id%29%0A%3C%2Fcode%3E%3C%2Fpre%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EThe+repository+will+know+what+stream+of+events+it+should+read+%28ie.%26nbsp%3B%3Ccode%3EProduct-1%3C%2Fcode%3E%29%2C+those+events+will+be+applied+on+a%26nbsp%3B%3Ccode%3EProduct%3C%2Fcode%3E%26nbsp%3Binstance+and+we+will+re-build+the+current+state+of+one+product.+That%E2%80%99s+it.%3C%2Fp%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3ESo+what%E2%80%99s+the+solution+to+all+those+before-mentioned+use-cases%3F+Read+models.%3C%2Fp%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EIf+you+want+to+display+a+list+of+products+in+your+e-commerce+app+so+that+customers+can+browse+them+and+call+commands+such+as%26nbsp%3B%3Ccode%3EAddToBasket%3C%2Fcode%3E%26nbsp%3Band%26nbsp%3B%3Ccode%3EProduct%3C%2Fcode%3E%26nbsp%3Bis+event+sourced%2C+you+are+going+to+need+to+have+a+read-model+of+Products.+This+read+model+can+be+in+Elastic+Search+or+in+SQL+or+in+any+DB+you+want.+That%E2%80%99s+up+to+specific+requirements.%3C%2Fp%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EHow+does+the+process+of+building+a+read+model+work+in+steps%3F%3C%2Fp%3E%0A%0A%3Col%3E%0A%09%3Cli%3EWhen+you+update+the+product%2C+you+do+it+by+persisting+new+domain+events.%3C%2Fli%3E%0A%09%3Cli%3EEvent+handlers+are+triggered%0A%09%3Cul%3E%0A%09%09%3Cli%3EThey+can+be+triggered+by+a+message+queue+that+you+pushed+events+into%2C+after+they+had+been+stored%0A%09%09%3Cul%3E%0A%09%09%09%3Cli%3EIn+simplest+case+that+can+be+implemented+using+ActiveJob%2C+in+more+complex+scenarios+it+can+be+Kafka%2C+RabbitMQ+or+Amazon+SQS.%3C%2Fli%3E%0A%09%09%3C%2Ful%3E%0A%09%09%3C%2Fli%3E%0A%09%09%3Cli%3EOr+you+have+a+separate+process+%28a+projection%29+constantly+iterating+over+saved+domain+events+and+picking+them+up+for+processing.%0A%09%09%3Cul%3E%0A%09%09%09%3Cli%3EThis+is+very+simple+when+you+use%26nbsp%3B%3Ca+href%3D%22http%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3D6e6773ca9f%26amp%3Be%3D495d83f894%22+style%3D%22color%3A%232baadf%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3EEventStore+DB%3C%2Fa%3E%26nbsp%3Bfor+saving+domain+events.%3C%2Fli%3E%0A%09%09%3C%2Ful%3E%0A%09%09%3C%2Fli%3E%0A%09%3C%2Ful%3E%0A%09%3C%2Fli%3E%0A%09%3Cli%3EThe+event+handler+updates+the+read+model+accordingly+based+on+what+happened%2C+what+domain+event+it+is+processing.%3C%2Fli%3E%0A%3C%2Fol%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EAs+an+example.%3C%2Fp%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3E%3Ccode%3EProductRegistered%3C%2Fcode%3E%26nbsp%3Bevent+can+cause+adding+a+new+element+to+ActiveRecord-backed+read+model%26nbsp%3B%3Ccode%3EProductList%3C%2Fcode%3E.%3C%2Fp%3E%0A%0A%3Cpre%3E%3Ccode%3EProductList.create%21%28%0A++id%3A+event.data%5B%3Aproduct_id%5D%2C%0A++name%3A+event.data%5B%3Aname%5D%2C%0A++price%3A+BigDecimal.new%28event.data%5B%3Aprice%5D%29%2C%0A%29%0A%3C%2Fcode%3E%3C%2Fpre%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3E%3Ccode%3EProductPriceChanged%3C%2Fcode%3E%26nbsp%3Bevent+can+cause+updating+the+price+on+the+list.%3C%2Fp%3E%0A%0A%3Cpre%3E%3Ccode%3EProductList.%0A++find_by%21%28id%3A+event.data%5B%3Aproduct_id%5D%29.%0A++update_attributes%21%28%0A++++price%3A+BigDecimal.new%28event.data%5B%3Aprice%5D%29%2C%0A++%29%0A%3C%2Fcode%3E%3C%2Fpre%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3Eetc+etc.%3C%2Fp%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EAnd+then+when+you+want+to+display%26nbsp%3B%3Cem%3E10+most+expensive+products%3C%2Fem%3E%26nbsp%3Byou+can+do+it+based+on+the+read+side+of+your+application%2C+based+on+the%26nbsp%3B%3Ccode%3EProductList%3C%2Fcode%3E%26nbsp%3Bread-model.%3C%2Fp%3E%0A%0A%3Cpre%3E%3Ccode%3EProductList.order%28%26quot%3Bprice+DESC%26quot%3B%29.limit%2810%29%0A%3C%2Fcode%3E%3C%2Fpre%3E%0A%0A%3Cp+style%3D%22margin%3A10px+0%3Bpadding%3A0%3Bcolor%3A%23202020%3Bfont-family%3AHelvetica%3Bfont-size%3A16px%3Bline-height%3A150%25%3Btext-align%3Aleft%22%3EThe+write-side+of+your+application%2C+the+event-sourced%26nbsp%3B%3Ccode%3EProduct%3C%2Fcode%3E%26nbsp%3Bclass+is+about+making+changes%2C+keeping+track+of+them%2C+and+protecting+business+rules.+It%E2%80%99s+the+side+responsible+for+publishing%26nbsp%3B%3Ccode%3EProductRegistered%3C%2Fcode%3E%3Cbr%3E%0Aor%26nbsp%3B%3Ccode%3EProductPriceChanged%3C%2Fcode%3E.%3Cbr%3E%0A%3Cbr%3E%0A%3Cem%3ERobert+from+Arkency%3Cbr%3E%0A%3Cimg+height%3D%22112%22+src%3D%22https%3A%2F%2Fgallery.mailchimp.com%2F1bb42b52984bfa86e2ce35215%2Fimages%2F2ffe083c-c656-48a1-a020-28cbe77b976e.jpg%22+style%3D%22border%3A0px%3Bwidth%3A200px%3Bheight%3A112px%3Bmargin%3A0px%3Boutline%3Anone%3Btext-decoration%3Anone%22+width%3D%22200%22%3E%3C%2Fem%3E%3C%2Fp%3E%0A%0A++++++++++++++++++++++++%3C%2Ftd%3E%0A++++++++++++++++++++%3C%2Ftr%3E%0A++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0A%09%09%09%09%0A%0A%09%09%09%09%0A++++++++++++%3C%2Ftd%3E%0A++++++++%3C%2Ftr%3E%0A++++%3C%2Ftbody%3E%0A%3C%2Ftable%3E%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22%3E%0A++++%0A%09%3Ctbody%3E%0A++++++++%3Ctr%3E%0A++++++++++++%3Ctd+valign%3D%22top%22%3E%0A%0A%09%09%09%09%0A++++++++++++++++%3Ctable+align%3D%22left%22+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22+class%3D%22m_-5119197465919920771mcnBoxedTextContentContainer%22%3E%0A++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0A%0A++++++++++++++++++++++++%3Ctd+style%3D%22padding-top%3A9px%3Bpadding-left%3A18px%3Bpadding-bottom%3A9px%3Bpadding-right%3A18px%22%3E%0A%0A++++++++++++++++++++++++++++%3Ctable+border%3D%220%22+cellpadding%3D%2218%22+cellspacing%3D%220%22+class%3D%22m_-5119197465919920771mcnTextContentContainer%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%21important%3Bbackground-color%3A%23404040%3Bborder-collapse%3Acollapse%22%3E%0A++++++++++++++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0A++++++++++++++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+class%3D%22m_-5119197465919920771mcnTextContent%22+style%3D%22color%3A%23f2f2f2%3Bfont-family%3AHelvetica%3Bfont-size%3A14px%3Bfont-weight%3Anormal%3Btext-align%3Aleft%3Bword-break%3Abreak-word%3Bline-height%3A150%25%22%3E%0A++++++++++++++++++++++++++++++++++++++++Did+you+like+the+EventSourcing+chapter+in+Domain-Driven+Rails%3F+Add+your+opinion+about+final+version+of+the+book+%3Ca+href%3D%22http%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fclick%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3D7f5a9c4cd0%26amp%3Be%3D495d83f894%22+style%3D%22color%3A%232baadf%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3Eon+goodreads%3C%2Fa%3E.%0A++++++++++++++++++++++++++++++++++++%3C%2Ftd%3E%0A++++++++++++++++++++++++++++++++%3C%2Ftr%3E%0A++++++++++++++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0A++++++++++++++++++++++++%3C%2Ftd%3E%0A++++++++++++++++++++%3C%2Ftr%3E%0A++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0A%09%09%09%09%0A%0A%09%09%09%09%0A++++++++++++%3C%2Ftd%3E%0A++++++++%3C%2Ftr%3E%0A++++%3C%2Ftbody%3E%0A%3C%2Ftable%3E%3C%2Ftd%3E%0A++++++++++++++++++++++++++++%3C%2Ftr%3E%0A++++++++++++++++++++++++++++%3Ctr%3E%0A++++++++++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+id%3D%22m_-5119197465919920771templateFooter%22+style%3D%22background%3A%23fafafa+none+no-repeat+center%2Fcover%3Bbackground-color%3A%23fafafa%3Bbackground-image%3Anone%3Bbackground-repeat%3Ano-repeat%3Bbackground-position%3Acenter%3Bbackground-size%3Acover%3Bborder-top%3A0%3Bborder-bottom%3A0%3Bpadding-top%3A9px%3Bpadding-bottom%3A9px%22%3E%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+class%3D%22m_-5119197465919920771mcnDividerBlock%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%3Btable-layout%3Afixed%21important%22%3E%0A++++%3Ctbody%3E%0A++++++++%3Ctr%3E%0A++++++++++++%3Ctd+style%3D%22min-width%3A100%25%3Bpadding%3A10px+18px+25px%22%3E%0A++++++++++++++++%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-top%3A2px+solid+%23eeeeee%3Bborder-collapse%3Acollapse%22%3E%0A++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0A++++++++++++++++++++++++%3Ctd%3E%0A++++++++++++++++++++++++++++%3Cspan%3E%3C%2Fspan%3E%0A++++++++++++++++++++++++%3C%2Ftd%3E%0A++++++++++++++++++++%3C%2Ftr%3E%0A++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0A%0A++++++++++++%3C%2Ftd%3E%0A++++++++%3C%2Ftr%3E%0A++++%3C%2Ftbody%3E%0A%3C%2Ftable%3E%3Ctable+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+width%3D%22100%25%22+style%3D%22min-width%3A100%25%3Bborder-collapse%3Acollapse%22%3E%0A++++%3Ctbody%3E%0A++++++++%3Ctr%3E%0A++++++++++++%3Ctd+valign%3D%22top%22+style%3D%22padding-top%3A9px%22%3E%0A++++++++++++++%09%0A%09%09%09%0A%09%09%09%09%0A++++++++++++++++%3Ctable+align%3D%22left%22+border%3D%220%22+cellpadding%3D%220%22+cellspacing%3D%220%22+style%3D%22max-width%3A100%25%3Bmin-width%3A100%25%3Bborder-collapse%3Acollapse%22+width%3D%22100%25%22+class%3D%22m_-5119197465919920771mcnTextContentContainer%22%3E%0A++++++++++++++++++++%3Ctbody%3E%3Ctr%3E%0A%0A++++++++++++++++++++++++%3Ctd+valign%3D%22top%22+class%3D%22m_-5119197465919920771mcnTextContent%22+style%3D%22padding-top%3A0%3Bpadding-right%3A18px%3Bpadding-bottom%3A9px%3Bpadding-left%3A18px%3Bword-break%3Abreak-word%3Bcolor%3A%23656565%3Bfont-family%3AHelvetica%3Bfont-size%3A12px%3Bline-height%3A150%25%3Btext-align%3Acenter%22%3E%0A%0A++++++++++++++++++++++++++++%3Cem%3ECopyright+%C2%A9+2017+Arkency%2C+All+rights+reserved.%3C%2Fem%3E%3Cbr%3E%0A+You+are+receiving+this+email+because+you+subscribed+to+at+least+one+of+Arkency+Newsletters.%3Cbr%3E%0A%3Cbr%3E%0A%3Cbr%3E%0AWant+to+change+how+you+receive+these+emails%3F%3Cbr%3E%0AYou+can+%3Ca+href%3D%22http%3A%2F%2Farkency.us5.list-manage1.com%2Fprofile%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3D4cee302d8a%26amp%3Be%3D495d83f894%22+style%3D%22color%3A%23656565%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3Eupdate+your+preferences%3C%2Fa%3E+or+%3Ca+href%3D%22http%3A%2F%2Farkency.us5.list-manage.com%2Funsubscribe%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3D4cee302d8a%26amp%3Be%3D495d83f894%26amp%3Bc%3Dc749674707%22+style%3D%22color%3A%23656565%3Bfont-weight%3Anormal%3Btext-decoration%3Aunderline%22+target%3D%22_blank%22%3Eunsubscribe+from+this+list%3C%2Fa%3E.%3Cbr%3E%0A%3Cbr%3E%0A++++++++++++++++++++++++%3C%2Ftd%3E%0A++++++++++++++++++++%3C%2Ftr%3E%0A++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0A%09%09%09%09%0A%0A%09%09%09%09%0A++++++++++++%3C%2Ftd%3E%0A++++++++%3C%2Ftr%3E%0A++++%3C%2Ftbody%3E%0A%3C%2Ftable%3E%3C%2Ftd%3E%0A++++++++++++++++++++++++++++%3C%2Ftr%3E%0A++++++++++++++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0A%09%09%09%09%09%09%0A++++++++++++++++++++++++%0A++++++++++++++++++++%3C%2Ftd%3E%0A++++++++++++++++%3C%2Ftr%3E%0A++++++++++++%3C%2Ftbody%3E%3C%2Ftable%3E%0A++++++++%3C%2Fcenter%3E%0A++++%3Cimg+src%3D%22http%3A%2F%2Farkency.us5.list-manage.com%2Ftrack%2Fopen.php%3Fu%3D1bb42b52984bfa86e2ce35215%26amp%3Bid%3Dc749674707%26amp%3Be%3D495d83f894%22+height%3D%221%22+width%3D%221%22%3E%3C%2Fdiv%3E%0A%3C%2Fdiv%3E%3C%2Fdiv%3E%0A","isBase64Encoded":false}
